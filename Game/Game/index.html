<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>SpriteGame Development</title>
    <script src="js/jquery-2.1.0.min.js"></script>
    <script src="gameHandler.js"></script>
    <script src="renderer.js"></script>
    <script src="eventHandler.js"></script>
    <script src="animationHandler.js"></script>
    <script src="playerManager.js"></script>
</head>
<body>
    <div class="output"></div>

    <canvas id="canvas"></canvas>
    <script>

        var gameHandler = new GameHandler({
            verbose: false,
            initStaticAnimations: true,
            mapPath: "data/test.json",
        });
        var eventHandler = new EventHandler(gameHandler);
        var render = new Renderer($("#canvas")[0], gameHandler);
        gameHandler.setRenderer(render);

        gameHandler.init();


        var run = false;
        var offset = 0;
        var moveOffset = 5;
        var maxMove = 600;
        var minMove = -0;

        $(document).ready(function ()
        {

            window.setInterval(function ()
            {
                if (run)
                {
                    offset += moveOffset;
                    if (offset > maxMove)
                    {
                        offset = maxMove;
                        moveOffset *= -1;
                    }
                    else if (offset < minMove)
                    {
                        offset = minMove;
                        moveOffset *= -1;
                    }

                    render.test(offset);
                }
            }, 10);

            window.setTimeout(function ()
            {
                //render.test(0);
            }, 150);
            //animation.test();
        });



    </script>

    <p>Use Cursor Keys to move.</p>
    <p>Press Return for "sleep" Animation</p>

</body>
</html>